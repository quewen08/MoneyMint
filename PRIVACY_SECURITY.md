# MoneyMint 隐私与安全增强说明

## 1. 隐私保护增强措施

为了保护您的账本数据隐私，我们实施了以下增强措施：

### 1.1 用户身份验证系统
- 新增JWT (JSON Web Token) 身份验证机制
- 支持用户注册和登录功能
- 所有API端点均需要身份验证才能访问
- 密码使用bcrypt算法进行加密存储

### 1.2 数据访问控制
- 只有登录用户才能访问账本数据
- 会话超时自动登出（令牌有效期7天）
- 敏感数据传输使用加密机制

### 1.3 数据存储安全
- 账本文件使用UTF-8编码确保中文正确显示
- 文件权限设置优化
- 敏感配置信息通过环境变量管理

## 2. 使用说明

### 2.1 安装依赖
```bash
# 后端依赖安装
cd backend
pip install -r requirements.txt

# 前端依赖安装
cd frontend
npm install
```

### 2.2 启动服务
```bash
# 启动后端服务（端口5000）
cd backend
python -m flask run --host=0.0.0.0 --port=5000

# 启动前端服务（端口3000）
cd frontend
npm run dev
```

### 2.3 访问应用
1. 打开浏览器访问 `http://localhost:3000/login`
2. 注册一个新用户账号
3. 使用注册的账号登录系统
4. 开始使用记账功能

## 3. API接口说明

所有API接口现在都需要在请求头中包含JWT令牌：

```
Authorization: Bearer <your-jwt-token>
```

### 3.1 认证接口
- `POST /api/auth/login` - 用户登录
- `POST /api/auth/register` - 用户注册

### 3.2 账本接口（需要身份验证）
- `GET /api/ledger` - 获取账本基本信息
- `GET /api/entries` - 获取记账条目
- `POST /api/entries` - 添加记账条目
- `GET /api/accounts` - 获取账户列表
- `GET /api/accounts/balances` - 获取账户余额
- `POST /api/query` - 执行查询

## 4. 安全建议

### 4.1 生产环境配置
1. 修改`.env`文件中的`JWT_SECRET_KEY`为强密钥
2. 设置`FLASK_ENV=production`
3. 使用HTTPS加密传输
4. 配置适当的CORS策略

### 4.2 用户安全建议
1. 使用强密码（至少6位，包含字母和数字）
2. 定期修改密码
3. 不要与他人共享账号
4. 确保浏览器安全，定期清除缓存

### 4.3 数据备份
1. 定期备份`backend/data`目录下的账本文件
2. 建议将备份存储在安全位置
3. 避免在公共网络上传输未加密的账本数据

## 5. 版本更新

### v0.0.1 (初始版本)
- 修复了一些已知问题
- 优化了性能和响应时间
- 修复移动端底部导航覆盖列表内容的问题
- 为所有页面添加移动端底部安全距离
- 新增用户身份验证系统
- 所有API端点添加身份验证保护
- 修复中文乱码问题（全局UTF-8编码）
- 优化Docker配置和启动脚本
- 基本记账功能
- 账本管理
- 收支记录和统计
- 移动端友好界面
- 将添加记账记录的模态框改为抽屉式弹出
- 按交易类型（支出/收入/转账）使用tab页切换
- 优化账户搜索为可筛选的下拉框以节省移动端空间
- 实现单一输入框获取焦点显示选择器弹窗
- 支持实时搜索账户功能
- 提供键盘导航和鼠标选择支持
- 支持按账户类型筛选（收入/支出/资产）
- 适配深色模式和响应式设计